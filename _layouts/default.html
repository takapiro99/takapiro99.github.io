<!DOCTYPE html>
<html lang="ja">
  <head>
    {% include meta.html %}

    <title>
      {% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{
      site.description }}
    </title>

    <link
      rel="stylesheet"
      type="text/css"
      href="{{ site.baseurl }}/style.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/ress/dist/ress.min.css"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="/assets/image/favicon.ico"
    />
    <link rel="icon" type="image/x-icon" href="/assets/image/favicon.ico" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-config"
      content="/assets/image/browserconfig.xml"
    />
    <meta name="theme-color" content="#ffffff" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.name }} - {{ site.description }}"
      href="{{ site.baseurl }}/feed.xml"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css"
      integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY="
      crossorigin="anonymous"
      media="print"
      onload="this.media='all'"
    />
    <link
      rel="stylesheet"
      href="https://cdn.plyr.io/3.6.8/plyr.css"
      media="print"
      onload="this.media='all'"
    />
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" media="print"
    onload="this.media='all'" /> -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css"
      integrity="sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET"
      crossorigin="anonymous"
      media="print"
      onload="this.media='all'"
    />

    <!-- dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-is@latest/umd/react-is.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/styled-components@5/dist/styled-components.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@microlink/mql@latest/dist/mql.min.js"></script>
    <!-- Microlink SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@microlink/vanilla@latest/dist/microlink.min.js"></script>
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="{{ site.baseurl }}/" class="site-avatar"
            ><img src="{{ site.avatar }}" width="70" height="70"
          /></a>

          <div class="site-info">
            <h1 class="site-name">
              <a href="{{ site.baseurl }}/">{{ site.name }}</a>
            </h1>
            <p class="site-description">{{ site.description }}</p>
          </div>

          <nav class="nav-menu">{% include navigation.html %}</nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">{{ content }}</div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {%- if site.footer_links -%}
          <div class="social-icons">
            {%- for footer_link in site.footer_links -%} {%- if footer_link.url
            contains "://" -%} {%- assign url = footer_link.url -%} {%- else -%}
            {%- assign url = footer_link.url | relative_url -%} {%- endif -%}
            <a target="_blank" class="social-icon" href="{{ url }}"
              ><i
                class="{{ footer_link.icon | default: 'fa fa-link' }} fa-2x"
                title="{{ footer_link.title }}"
              ></i
            ></a>
            {%- endfor -%}
          </div>
          {%- endif -%}

          <div class="copyright">
            {% if site.copyright %} {{ site.copyright | markdownify }} {% else
            %}
            <p>
              &copy; {{ site.time | date: '%Y' }} {{ site.name | default:
              site.name }}. Powered by
              <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp;
              <a
                href="https://github.com/forever-jekyll/forever-jekyll"
                rel="nofollow"
                >Forever Jekyll</a
              >.
            </p>
            {% endif %}
          </div>
        </footer>
      </div>
    </div>
    <script>
      // https://ben.balter.com/2014/03/13/pages-anchor-links/
      $(function () {
        return $("h2, h3, h4, h5, h6").each(function (i, el) {
          var $el, icon, id;
          $el = $(el);
          id = $el.attr("id");
          icon = '<i class="fa fa-link" style="margin-right: 10px;"></i>';
          if (id) {
            return $el.prepend(
              $("<a />")
                .addClass("header-link")
                .attr("href", "#" + id)
                .html(icon)
            );
          }
        });
      });
    </script>

    <!-- currently no video -->
    <!-- <script defer src="https://cdn.plyr.io/3.6.8/plyr.js"></script>
  <script>
    const player = new Plyr('#player');
  </script> -->

    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
    <script type="text/javascript">
      $("img").each((i, el) => {
        $(el).wrap(`<a href=${$(el).attr("src")} class="glightbox"></a>`);
      });
      const lightbox = GLightbox({
        touchNavigation: true,
        loop: true,
        autoplayVideos: false,
      });
      const avatar = document.getElementsByClassName("site-avatar")[0];
      const avatarImage = avatar.firstElementChild.firstElementChild;
      avatar.innerHTML = "";
      avatar.appendChild(avatarImage);
    </script>

    <!-- フローチャート作れるやつらしい -->
    <!-- <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: true });</script> -->

    <!-- 多分数式書けるやつ -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js"
      integrity="sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb"
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"
      onload="renderMathInElement(document.body,{
                    delimiters: [
                    { left: '$$',  right: '$$',  display: true  },
                    { left: '$',   right: '$',   display: false },
                    { left: '\\[', right: '\\]', display: true  },
                    { left: '\\(', right: '\\)', display: false }
                    ]});"
    ></script>

    <!-- disable dark mode for now -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
    <script>
      function addDarkmodeWidget() {
        new Darkmode().showWidget();
        window.addEventListener('load', addDarkmodeWidget);
      }
      const options = {
        label: '🌓',
      }
      const darkmode = new Darkmode(options);
            darkmode.showWidget();
    </script> -->
    <script
      id="twitter-wjs"
      type="text/javascript"
      async
      defer
      src="//platform.twitter.com/widgets.js"
    ></script>

    <script>
      document.addEventListener(
        "DOMContentLoaded",
        // used in _includes/linkpreview.html
        () => microlink(".link-previews")
      );
    </script>

    <script>
      var disqus_config = function () {
        this.page.url = "{{ site.url }}{{ page.url }}"; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = "{{ page.url }}"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
      (function () {
        // DON'T EDIT BELOW THIS LINE
        var d = document,
          s = d.createElement("script");
        s.src = "https://takapiro99.disqus.com/embed.js";
        s.setAttribute("data-timestamp", +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
  </body>
</html>
